[gd_scene load_steps=15 format=3 uid="uid://s3w1eg52kr8u"]

[ext_resource type="Script" uid="uid://cgcf6qyo31wyt" path="res://scripts/world_generation/WorldSpawner.cs" id="1_83pux"]
[ext_resource type="Resource" uid="uid://bfks6ydjmu5gu" path="res://resources/tile_config.tres" id="2_w0i7v"]
[ext_resource type="PackedScene" uid="uid://c6lr8f133tbfv" path="res://scenes/world_generation/shrines/racoon_shrine.tscn" id="3_klido"]
[ext_resource type="PackedScene" uid="uid://wmtjofjmupla" path="res://scenes/player_package/player_package.tscn" id="4_w0i7v"]
[ext_resource type="Texture2D" uid="uid://bh8xrrqk3y2ag" path="res://assets/tile_sets/base_layer_terrain/spritesheet_nature-blocks.png" id="4_wyppg"]
[ext_resource type="Shader" uid="uid://r3xjxg7c3bx7" path="res://assets/shaders/tree.gdshader" id="5_itp5q"]
[ext_resource type="PackedScene" uid="uid://dyrdk24okgbja" path="res://scenes/enemies/WraithSpawner.tscn" id="5_klido"]
[ext_resource type="Texture2D" uid="uid://dk3ll26gafdx3" path="res://assets/tile_sets/object_layer_terrain/IPN_Atlas.png" id="6_pfpup"]

[sub_resource type="Curve" id="Curve_3xxx6"]
_data = [Vector2(0, 0.48669535), 0.0, 0.0, 0, 0, Vector2(0.5305343, 1), 0.47681358, 0.47681358, 0, 0, Vector2(1, 0.49227476), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_683jg"]
texture = ExtResource("4_wyppg")
texture_region_size = Vector2i(140, 140)
3:0/0 = 0
3:0/0/texture_origin = Vector2i(0, -17)
4:0/0 = 0
4:0/0/texture_origin = Vector2i(0, -14)
5:0/0 = 0
5:0/0/texture_origin = Vector2i(0, -14)
12:0/0 = 0
12:0/0/texture_origin = Vector2i(-2, -14)
13:0/0 = 0
13:0/0/texture_origin = Vector2i(0, -15)
14:0/0 = 0
2:0/next_alternative_id = 4
2:0/0 = 0
2:0/0/texture_origin = Vector2i(0, -14)
2:0/1 = 1
2:0/1/flip_h = true
2:0/1/texture_origin = Vector2i(3, -14)
1:0/next_alternative_id = 2
1:0/0 = 0
1:0/0/texture_origin = Vector2i(0, -14)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(0, -16)
6:0/0 = 0
6:0/0/texture_origin = Vector2i(0, -14)
7:0/0 = 0
7:0/0/texture_origin = Vector2i(0, -14)
8:0/0 = 0
8:0/0/texture_origin = Vector2i(-2, -12)
9:0/0 = 0
9:0/0/texture_origin = Vector2i(-3, -14)
10:0/0 = 0
10:0/0/texture_origin = Vector2i(-1, -9)
11:0/0 = 0
11:0/0/texture_origin = Vector2i(-1, -12)
15:0/0 = 0
15:0/0/texture_origin = Vector2i(-3, -14)

[sub_resource type="TileSet" id="TileSet_nmbn7"]
tile_shape = 1
tile_layout = 5
tile_offset_axis = 1
tile_size = Vector2i(120, 90)
sources/0 = SubResource("TileSetAtlasSource_683jg")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_683jg"]
shader = ExtResource("5_itp5q")
shader_parameter/wind_strength = 0.4250000201875
shader_parameter/wind_speed = 2.4910001183225

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_w0i7v"]
texture = ExtResource("6_pfpup")
separation = Vector2i(0, 129)
texture_region_size = Vector2i(256, 420)
1:0/0 = 0
2:0/0 = 0
5:0/0 = 0
6:0/0 = 0
9:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
5:1/0 = 0
5:1/0/texture_origin = Vector2i(0, 150)
5:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, -45, -60, 0, 0, 45, 60, 0)
6:1/0 = 0
6:1/0/texture_origin = Vector2i(0, 150)
6:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, -45, -60, 0, 0, 45, 60, 0)
7:1/0 = 0
7:1/0/texture_origin = Vector2i(0, 150)
7:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, -45, -60, 0, 0, 45, 60, 0)
8:1/0 = 0
9:1/0 = 0
10:1/0 = 0
11:1/0 = 0
12:1/0 = 0
13:1/0 = 0
14:1/0 = 0
15:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0
12:2/0 = 0
13:2/0 = 0
14:2/0 = 0
15:2/0 = 0
4:1/0 = 0
4:1/0/texture_origin = Vector2i(0, 150)
4:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, -45, -60, 0, 0, 45, 60, 0)

[sub_resource type="TileSet" id="TileSet_vbebb"]
tile_shape = 1
tile_layout = 5
tile_offset_axis = 1
tile_size = Vector2i(120, 90)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_w0i7v")

[node name="WorldSpawner" type="Node2D" node_paths=PackedStringArray("BaseTileMapLayer", "ObstacleTileMapLayer")]
y_sort_enabled = true
script = ExtResource("1_83pux")
BorderSize = 20
MapSizeRows = 150
MapSizeCols = 150
PossibleStates = PackedInt32Array(0, 1)
StateSpawnWeights = PackedFloat32Array(0.5, 0.5)
TreeSpawnChance = 0.85
NumSmooths = 5
PathCurve = SubResource("Curve_3xxx6")
PathCurveSize = 5
PathRadius = 2
BaseTileMapLayer = NodePath("BaseLayer")
ObstacleTileMapLayer = NodePath("ObstacleLayer")
TileConfiguration = ExtResource("2_w0i7v")
NumShrines = 3
ShrineSizeRows = 19
ShrineSizeCols = 19
MinimumDistanceShrines = 60
allShrinePckdScns = Array[PackedScene]([ExtResource("3_klido"), ExtResource("3_klido"), ExtResource("3_klido")])
PlayerScene = ExtResource("4_w0i7v")
_enemySpawner = ExtResource("5_klido")
metadata/_edit_horizontal_guides_ = [-21.0]

[node name="BaseLayer" type="TileMapLayer" parent="."]
z_index = -2
y_sort_enabled = true
tile_set = SubResource("TileSet_nmbn7")

[node name="ObstacleLayer" type="TileMapLayer" parent="."]
y_sort_enabled = true
material = SubResource("ShaderMaterial_683jg")
tile_set = SubResource("TileSet_vbebb")
