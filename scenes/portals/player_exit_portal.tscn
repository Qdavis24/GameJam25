[gd_scene load_steps=9 format=3 uid="uid://0p8w5ski1dbo"]

[ext_resource type="Script" uid="uid://yrbchvu57mbu" path="res://scripts/Portals/ExitPortal.cs" id="1_810g0"]
[ext_resource type="AudioStream" uid="uid://bjt2ebysffjw6" path="res://assets/sounds/portal/portal_idle-34022.mp3" id="2_6dv6g"]
[ext_resource type="AudioStream" uid="uid://d3bf8m3lm1n0" path="res://assets/sounds/portal/spawn.wav" id="2_6fsux"]
[ext_resource type="Texture2D" uid="uid://byxuj2naefhmi" path="res://resources/light_gradient.tres" id="3_jacg2"]

[sub_resource type="Curve" id="Curve_sj1d0"]
_limits = [-0.112359524, 2.0, 0.0, 1.0]
_data = [Vector2(0, 1.8813281), 0.0, 0.0, 0, 0, Vector2(1, 0.7183436), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_jacg2"]
curve = SubResource("Curve_sj1d0")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_810g0"]
particle_flag_disable_z = true
spread = 15.65
initial_velocity_min = 50.0
initial_velocity_max = 60.0
orbit_velocity_min = 1.3000002
orbit_velocity_max = 1.3000002
orbit_velocity_curve = SubResource("CurveTexture_jacg2")
radial_velocity_min = 11.999977
radial_velocity_max = 16.999977
gravity = Vector3(0, 0, 0)
scale_min = 2.0
scale_max = 2.0
color = Color(0.28560802, 0.0009629519, 0.51313466, 1)

[sub_resource type="CircleShape2D" id="CircleShape2D_burnr"]
radius = 47.042534

[node name="PlayerExitPortal" type="Node2D" node_paths=PackedStringArray("_portalSoundPlayer", "_particles", "_light", "_enterRange")]
y_sort_enabled = true
script = ExtResource("1_810g0")
_spawnNoise = ExtResource("2_6fsux")
_portalSoundPlayer = NodePath("AudioStreamPlayer2D")
_particles = NodePath("Portal")
_light = NodePath("PointLight2D")
_enterRange = NodePath("Area2D")
_maxLightEnergy = 3.0
_pulseIntensityAmplitude = 2.0

[node name="Portal" type="GPUParticles2D" parent="."]
amount = 400
lifetime = 5.0
trail_enabled = true
process_material = SubResource("ParticleProcessMaterial_810g0")

[node name="Area2D" type="Area2D" parent="."]
collision_layer = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
visible = false
position = Vector2(0, -8)
shape = SubResource("CircleShape2D_burnr")

[node name="PointLight2D" type="PointLight2D" parent="."]
position = Vector2(1, -4)
scale = Vector2(0.21311736, 0.21311736)
color = Color(0.3647059, 0, 1, 1)
energy = 4.5
texture = ExtResource("3_jacg2")
texture_scale = 9.26

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("2_6dv6g")
volume_db = -15.0
